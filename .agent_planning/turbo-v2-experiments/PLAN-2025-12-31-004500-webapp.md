# Sprint Plan: Turbo-V2 Experiment Dashboard (Webapp)

Generated: 2025-12-31T00:45:00

## Sprint Goal

Build a simple local webapp for defining, running, and comparing turbo-v2 experiments with a visual UI.

## Scope

**In scope (this sprint):**
1. Vite + React + TypeScript webapp scaffolding
2. Material UI experiment dashboard
3. Backend API for experiment orchestration

**Explicitly out of scope (future sprints):**
- Authentication/authorization (local only)
- Database (JSON file storage)
- Deployment/Docker
- Real-time progress streaming (polling is fine)
- Charts/visualization (tables first)

---

## Architecture

```
src/turbo-v2/webapp/
â”œâ”€â”€ server/
â”‚   â”œâ”€â”€ index.ts              # Express server
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ experiments.ts    # CRUD endpoints
â”‚   â”‚   â””â”€â”€ runner.ts         # Execute experiments
â”‚   â””â”€â”€ storage.ts            # JSON file persistence
â”œâ”€â”€ client/
â”‚   â”œâ”€â”€ main.tsx              # Vite entry
â”‚   â”œâ”€â”€ App.tsx               # Router
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ExperimentList.tsx
â”‚   â”‚   â”œâ”€â”€ ExperimentForm.tsx
â”‚   â”‚   â”œâ”€â”€ ExperimentRunner.tsx
â”‚   â”‚   â””â”€â”€ CompareView.tsx
â”‚   â””â”€â”€ api.ts                # Fetch wrapper
â”œâ”€â”€ shared/
â”‚   â””â”€â”€ types.ts              # Shared TypeScript types
â””â”€â”€ package.json              # Webapp dependencies
```

**Storage:** `.humanify-experiments/experiments.json`

---

## Work Items

### P0: Backend API & Storage

**Acceptance Criteria:**
- [ ] Express server runs on localhost:3456
- [ ] `GET /api/experiments` lists all experiments
- [ ] `POST /api/experiments` creates new experiment
- [ ] `POST /api/experiments/:id/run` triggers execution
- [ ] `GET /api/experiments/:id/results` gets scores
- [ ] JSON file persistence survives restarts

**Technical Notes:**
- Use existing turbo-v2 code via programmatic imports
- Store in `.humanify-experiments/experiments.json`
- Each experiment has: id, name, preset, samples[], status, results[]

### P1: React + MUI Dashboard

**Acceptance Criteria:**
- [ ] Vite + React + TypeScript builds without errors
- [ ] Material UI components render correctly
- [ ] ExperimentList shows all experiments with status badges
- [ ] ExperimentForm creates new experiments (name, preset dropdown, sample checkboxes)
- [ ] Run button triggers experiment execution
- [ ] Status updates via polling (every 2s while running)

**Technical Notes:**
- Use MUI DataGrid for experiment list
- Use MUI Select/Checkbox for form
- Simple state management (useState/useEffect, no Redux)

### P2: Comparison View

**Acceptance Criteria:**
- [ ] Select 2+ experiments to compare
- [ ] Table shows: experiment name, preset, sample scores, avg score, duration
- [ ] Highlight best score per sample (green) and worst (red)
- [ ] Delta column shows +/- vs first selected experiment

**Technical Notes:**
- MUI Table with conditional formatting
- Simple: just render what's in storage

---

## UI Mockup

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ§ª Turbo-V2 Experiment Dashboard                    [+ New]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Experiments                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Name          â”‚ Preset   â”‚ Status    â”‚ Avg Score â”‚ Actionsâ”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ â–¡ baseline    â”‚ fast     â”‚ âœ“ Done    â”‚ 72/100   â”‚ [View] â”‚  â”‚
â”‚  â”‚ â–¡ multi-promptâ”‚ balanced â”‚ âœ“ Done    â”‚ 78/100   â”‚ [View] â”‚  â”‚
â”‚  â”‚ â–¡ adaptive    â”‚ thorough â”‚ â³ Running â”‚ -        â”‚ [Stop] â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  [Compare Selected]                                             â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ New Experiment â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚  Name: [________________]                                       â”‚
â”‚                                                                 â”‚
â”‚  Preset: [fast â–¼]                                               â”‚
â”‚                                                                 â”‚
â”‚  Samples:                                                       â”‚
â”‚    [âœ“] tiny-qs                                                  â”‚
â”‚    [âœ“] small-axios                                              â”‚
â”‚    [âœ“] medium-chart                                             â”‚
â”‚                                                                 â”‚
â”‚  [Cancel]  [Create & Run]                                       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Compare: baseline vs multi-prompt â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚  Sample       â”‚ baseline â”‚ multi-prompt â”‚ Delta                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€                â”‚
â”‚  tiny-qs      â”‚ 75       â”‚ 80           â”‚ +5 ğŸŸ¢                 â”‚
â”‚  small-axios  â”‚ 68       â”‚ 72           â”‚ +4 ğŸŸ¢                 â”‚
â”‚  medium-chart â”‚ 73       â”‚ 82           â”‚ +9 ğŸŸ¢                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€                â”‚
â”‚  Average      â”‚ 72       â”‚ 78           â”‚ +6 ğŸŸ¢                 â”‚
â”‚  Duration     â”‚ 45s      â”‚ 68s          â”‚ +23s                  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Dependencies

- Vite 5.x
- React 18.x
- @mui/material + @emotion/react
- Express 4.x
- Existing turbo-v2 code (import programmatically)

---

## Startup

```bash
# Start the webapp
cd src/turbo-v2/webapp
npm install
npm run dev

# Opens http://localhost:3456
```

Or add to justfile:
```
experiment-dashboard:
    cd src/turbo-v2/webapp && npm run dev
```

---

## Estimated Timeline

- Day 1: Backend API + storage
- Day 2: React scaffolding + experiment list
- Day 3: Form + runner integration
- Day 4: Comparison view + polish

**Total: 4 days**
